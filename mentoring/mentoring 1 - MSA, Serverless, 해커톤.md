# Mentoring 1 

> #microservice architecture #serverless #해커톤



## 1.  MICROSERVICE ARCHITECTURE(MSA)

### 1.1 microservice가 등장한 배경

* 

#### 1) Monolithic architecture 의미

U.I(user interface), Business logic, Data access layer 등 모든 것이 하나의 프로젝트에 묶여 서비스로 제공되는 구조를 의미한다. 기존에 제공되는 서비스는 모두 해당 구조에서 만들어지고 제공되었다.

#### 2) 변화의 기류

2010년 모바일 시장이 확대되었고 고객들은 기존 Monolithic architecture 구조(이하 MA구조)로 만들어진 서비스에 개선을 요구하게 되었다. 이에 대응하기 위해 새로운 기능을 개발해야 했고 처리해야할 data의 양이 늘어나게 되었다. 하지만 MA구조로는 다음과 같은 문제가 발생하였다.

1) 개발 언어에 종속적이다.

 MA 구조에서는 새로운 서비스를 개발하여 재빠르게 시장에 대응하고 싶어도 제공하던 서비스의 개발 언어에 종속될 수 밖에 없다. 

2)  빌드 시간 및 테스트 기간이 늘어난다.

 위에서 언급한 문제의 연장선상으로 언어에 종속적 대응할 수 밖에 없기 때문에 다른 언어로 쉽게 구현할 수 있는 기능일지라도 언어가 다르기 때문에 빌드 시간이 길어지고 전체적인 테스트 기간이 길어저 즉각적인 서비스 응대가 힘들어졌다. 

3) 선택적으로 수정하거나 확장할 수 없다.

MA 구조에서는 기능 일부를 수정하거나 확장하려는 경우 전체 시스템에 영향을 미치기 때문에 해당 부분만을 수정/확장해 업데이트 할 수 없다.  따라서 즉각적인 수정/확장 요구에 대응할 수 없는 문제가 발생했다.

4) 일부 문제가 전체 서비스에 영향을 준다. 

서비스의 일부분에 문제가 발생한 경우 MA는 구조상 모든 서비스에 영향을 줄 수 밖에 없다.

#### 3) 결론

MSA는 서비스 사용량이 폭발적으로 늘어난 상황에서 어떻게 하면 최적의 시스템을 제공할 수 있을지 고민하다가 등장했다.

### 1.2 시스템 확장 방안

#### 1) scale out 
1) 의미 : 수직적 확장. , 램 확장, CPU 성능 향상, SSD 추가 등 더 좋은 하드웨어 장비를 추가적으로 갖추어 성능을 높이는 것을 의미한다. 성능 확장에 한계가 존재한다.

2) 비용 :  관리 편이성이나 운영 비용은 큰 변화가 없으나 성능 증가에 따른 비용 증가폭이 크며, 스케일 아웃에 비해 서버 비용 부담이 크다.


3) 장애 발생시 영향 : 서버 하나를 가동시키기 위해 하드웨어의 성능을 향상시켰는데도 불구하고 장애가 발생한 경우, 한대의 서버에 집중적으로 장애가 발생하므로 장애의 영향력이 크다.

#### 2) scale up
1) 의미 : 수평적 확장. 하나의 장비에서 처리하던 일을 여러 장비에 나누어서 처리할 수 있도록 설계를 변경하는 것을 의미한다 .

2) 비용 :  기능을 비교적으로 가격이 저럼한 여러 서버에 나누어 사용하므로 일반적으로 서버 이용의 부담이 적다. 하지만 서버 운영 대수가 늘어날수록 관리 편의성이 떨어지며 이를 보완하기 위한 운영 비용 또한 증가한다.

3) 장애 발생시 영향 : 서비스의 많은 기능을 나누어 여러 서버에 분산하여 처리함으로서 일부 서버에 장애가 발생하더라도 전면 장애로 전환된 가능성이 적다.